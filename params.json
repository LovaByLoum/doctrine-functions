{"name":"Doctrine-functions","tagline":"Set of DQL functions for Doctrine 2","body":"Doctrine Functions\r\n==================\r\n\r\n[![Build Status](http://drone.luxiferapp.com/github.com/luxifer/doctrine-functions/status.svg?branch=master)](http://drone.luxiferapp.com/github.com/luxifer/doctrine-functions) [![Scrutinizer Code Quality](https://scrutinizer-ci.com/g/luxifer/doctrine-functions/badges/quality-score.png?s=32406f6c6df4378a2f352bd062707d3c7a0216ea)](https://scrutinizer-ci.com/g/luxifer/doctrine-functions/) [![Code Coverage](https://scrutinizer-ci.com/g/luxifer/doctrine-functions/badges/coverage.png?s=6701d974c062e2c98ec2a556ba8ba4db76667e68)](https://scrutinizer-ci.com/g/luxifer/doctrine-functions/) [![Latest Stable Version](https://poser.pugx.org/luxifer/doctrine-functions/v/stable.png)](https://packagist.org/packages/luxifer/doctrine-functions) [![Total Downloads](https://poser.pugx.org/luxifer/doctrine-functions/downloads.png)](https://packagist.org/packages/luxifer/doctrine-functions)\r\n\r\nThis package contains doctrine functions, you can contribute by forking it and propose pull request with your own functions.\r\nList of available functions:\r\n\r\n* `DATE(expr)`\r\n* `DATEDIFF(expr1, expr2)`\r\n* `DAYOFWEEK(expr)`\r\n* `WEEK(expr)`\r\n* `DAY(expr)`\r\n* `DAYOFMONTH(expr)`\r\n* `DAYOFYEAR(expr)`\r\n* `HOUR(expr)`\r\n* `MINUTE(expr)`\r\n* `MONTH(expr)`\r\n* `QUARTER(expr)`\r\n* `SECOND(expr)`\r\n* `TIME(expr)`\r\n* `YEAR(expr)`\r\n* `CONVERT_TZ(expr, 'from_tz', 'to_tz')` (MySQL implementation ONLY)\r\n* `DATE_FORMAT(expr, 'format')` (MySQL ONLY)\r\n\r\nEdit this file in your pull request to add your functions to the list.\r\n\r\nInstallation\r\n------------\r\n\r\nJust add the package to your `composer.json`\r\n\r\n```json\r\n{\r\n    \"require\": {\r\n        \"luxifer/doctrine-functions\": \"dev-master\"\r\n    }\r\n}\r\n```\r\n\r\nIntegration\r\n-----------\r\n\r\n### 1) Doctrine Only\r\n\r\nAccording to the [Doctrine documentation](http://docs.doctrine-project.org/en/2.0.x/cookbook/dql-user-defined-functions.html \"Doctrine documentation\") you can register the functions in this package this way.\r\n\r\n```php\r\n<?php\r\n$config = new \\Doctrine\\ORM\\Configuration();\r\n$config->addCustomDatetimeFunction('date', 'Luxifer\\DQL\\Datetime\\Date');\r\n\r\n$em = EntityManager::create($dbParams, $config);\r\n```\r\n\r\n### 2) Using Symfony 2\r\n\r\nWith Symfony 2 you can register your functions directly in the `config.yml` file.\r\n\r\n```yaml\r\ndoctrine:\r\n    orm:\r\n        entity_managers:\r\n            default:\r\n                dql:\r\n                    datetime_functions:\r\n                        date:     Luxifer\\DQL\\Datetime\\Date\r\n                        datediff: Luxifer\\DQL\\Datetime\\DateDiff\r\n                        # etc\r\n```\r\n\r\nTODO\r\n----\r\n\r\n* Add test case using phpspec\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}